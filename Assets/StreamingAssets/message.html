<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./message.css">
</head>
<body>
    <!-- Message Page -->
    <div class="page active">
        <div class="message-header">
            <button class="back-button" onclick="window.location.href='index.html'">
                <img src="./images/left.png" alt="Back">
            </button>
            <h2 class="header-title">John Smith</h2>
        </div>
        
        <div class="message-container">
            <div class="message-wrapper">
                <!-- History Message -->
                <div class="message-item received">
                    <img src="./images/avatar.png" class="avatar" alt="avatar">
                    <div class="message-content">
                        <div class="message-text">Hi, I'm working on the 3D model we need for our group project. I'll send it to you soon!</div>
                        <div class="message-time">Yesterday 4:15 PM</div>
                    </div>
                </div>

                <!-- New Message -->
                <div class="message-item received hidden">
                    <img src="./images/avatar.png" class="avatar" alt="avatar">
                    <div class="message-content">
                        <div class="message-text">Finally finished it! Please check it out!</div>
                        <div class="message-time">10:30 AM</div>
                    </div>
                </div>

                <div class="message-item received hidden">
                    <img src="./images/avatar.png" class="avatar" alt="avatar">
                    <div class="message-content">
                        <div class="message-file" onclick="openPreview(this)" data-type="model" data-id="teddy-bear" data-model-path="models/teddy-bear.fbx">
                            <img src="./images/teddy-bear.png" class="file-preview" alt="preview">
                            <div class="file-info">
                                <span class="file-name">teddy-bear.fbx</span>
                                <span class="file-size">2.5 MB</span>
                            </div>
                        </div>
                        <div class="message-time">10:31 AM</div>
                    </div>
                </div>

                <div class="message-item received hidden">
                    <img src="./images/avatar.png" class="avatar" alt="avatar">
                    <div class="message-content">
                        <div class="message-text">Could you help me 3D print this model?</div>
                        <div class="message-time">10:31 AM</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="message-input-container">
            <input type="text" class="message-input" placeholder="Type a message...">
            <button class="send-button">Send</button>
        </div>
    </div>

    <!-- Preview Modal -->
    <div class="preview-modal" onclick="closePreview(event)">
        <div class="modal-content">
            <img src="" alt="preview" class="modal-image">
            <div class="modal-file-info">
                <span class="modal-filename"></span>
                <span class="modal-filesize"></span>
            </div>
        </div>
    </div>

    <script src="./message.js"></script>
</body>
</html>
